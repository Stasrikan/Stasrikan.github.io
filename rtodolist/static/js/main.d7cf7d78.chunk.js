(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/delete.87e8dd41.svg"},,,,,,,,,function(e,t,a){e.exports=a(45)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(13),r=a.n(c);a(30),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(31);var i=a(9),d=a(3);a(32);var l=function(){return o.a.createElement("div",{className:"header"},o.a.createElement("h1",null,"Todo App"))},s=(a(33),a(4)),m=a(15),u=(a(38),a(17)),g=a(1),E={todos:[],todoCreateWindow:{isOpened:!1,todoTitleText:"",todoReminderTimeText:""}};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TODO-ADD":var a={id:e.todos.length,title:e.todoCreateWindow.todoTitleText,completed:!1,reminderTime:e.todoCreateWindow.todoReminderTimeText,isReminded:!1,category:t.category};return Object(g.a)(Object(g.a)({},e),{},{todos:[].concat(Object(u.a)(e.todos),[a]),todoCreateWindow:Object(g.a)(Object(g.a)({},e.todoCreateWindow),{},{todoTitleText:"",todoReminderTimeText:""})});case"TOGGLE-COMPLETE":return Object(g.a)(Object(g.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.todoId?Object(g.a)(Object(g.a)({},e),{},{completed:!e.completed}):e}))});case"REMOVE-TODO":return Object(g.a)(Object(g.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.todoId}))});case"TOGGLE-REMINDED":return Object(g.a)(Object(g.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.todoId?Object(g.a)(Object(g.a)({},e),{},{isReminded:!0}):e}))});case"REMOVE-ALL-TODO-FROM-CATEGORY":return Object(g.a)(Object(g.a)({},e),{},{todos:e.todos.filter((function(e){return e.category!==t.categoryName}))});case"TOGGLE-TODO-WINDOW":return Object(g.a)(Object(g.a)({},e),{},{todoCreateWindow:Object(g.a)(Object(g.a)({},e.todoCreateWindow),{},{isOpened:!e.todoCreateWindow.isOpened})});case"CHANGE-TITLE-TEXT":return Object(g.a)(Object(g.a)({},e),{},{todoCreateWindow:Object(g.a)(Object(g.a)({},e.todoCreateWindow),{},{todoTitleText:t.text})});case"CHANGE-REMINDER-TEXT":return Object(g.a)(Object(g.a)({},e),{},{todoCreateWindow:Object(g.a)(Object(g.a)({},e.todoCreateWindow),{},{todoReminderTimeText:t.text})});default:return e}},b=(a(39),a(16)),T=a.n(b);var f=function(e){var t=e.todo,a=e.toggleComplete,n=e.removeTodo;return o.a.createElement("div",{className:"flex-container todo ".concat(t.completed&&"completed")},o.a.createElement("div",{className:"default-checkbox"},o.a.createElement("input",{onChange:function(){a(t.id)},className:"todo__checkbox",type:"checkbox",checked:t.completed,id:"completed".concat(t.id)}),o.a.createElement("label",{htmlFor:"completed".concat(t.id)})),o.a.createElement("div",{className:"todo__title-wrapper"},o.a.createElement("h2",{className:"todo__title"},t.title)),o.a.createElement("button",{onClick:function(){n(t.id)},className:"default-btn todo__remove"},o.a.createElement("img",{className:"icon animated-icon",src:T.a,alt:"Delete"})))};var p=Object(s.b)((function(e){return{}}),{toggleComplete:function(e){return{type:"TOGGLE-COMPLETE",todoId:e}},removeTodo:function(e){return{type:"REMOVE-TODO",todoId:e}}})(f);a(40);var C=function(e){var t=e.children,a=e.todoWindow,n=e.toggleWindow;return o.a.createElement("div",{className:"message flex-container ".concat(a.isOpened?"opened":"closed"),onClick:function(e){!function(e){e.target===e.currentTarget&&n()}(e)}},o.a.createElement("div",{className:"message__inner"},t))};var v=function(e){var t=e.todos,a=e.todoWindow,n=e.addTodo,c=e.toggleTodoWindow,r=e.changeTitleText,i=e.changeReminderTimeText,d=Object(m.a)(e,["todos","todoWindow","addTodo","toggleTodoWindow","changeTitleText","changeReminderTimeText"]);return o.a.createElement("main",{className:"container"},t.map((function(e){return e.category==d.match.params.category?o.a.createElement(p,{key:e.id,todo:e}):""})),o.a.createElement("div",{className:"add-todo-block"},o.a.createElement("button",{onClick:function(){c()},className:"add-todo-block__btn"},"+")),o.a.createElement(C,{todoWindow:a,toggleWindow:c},o.a.createElement("div",{className:"message__header"},o.a.createElement("h2",null,"Create Todo")),o.a.createElement("div",{className:"message__body"},o.a.createElement("input",{onChange:function(e){!function(e){r(e.target.value)}(e)},type:"text",placeholder:"Todo Title",value:a.todoTitleText}),o.a.createElement("div",{className:"message__reminder-time-block"},o.a.createElement("label",{htmlFor:"time"},"Reminder time"),o.a.createElement("input",{onChange:function(e){return function(e){i(e.target.value)}(e)},value:a.todoReminderTimeText,type:"time",id:"time"})),o.a.createElement("button",{className:"bg-btn",onClick:function(){if(a.todoTitleText){var e=d.match.params.category;n(e),c()}a.todoReminderTimeText&&"granted"!==Notification.permission&&Notification.requestPermission()}},"Add"))))};var h=Object(d.e)(v),N=Object(s.b)((function(e){return{todos:e.todoItems.todos,todoWindow:e.todoItems.todoCreateWindow}}),{addTodo:function(e){return{type:"TODO-ADD",category:e}},toggleTodoWindow:function(){return{type:"TOGGLE-TODO-WINDOW"}},changeTitleText:function(e){return{type:"CHANGE-TITLE-TEXT",text:e}},changeReminderTimeText:function(e){return{type:"CHANGE-REMINDER-TEXT",text:e}}})(h);a(42),a(43);var j=function(e){var t=e.category,a=e.removeCategory,n=e.removeAllTodoFromCategory,c=Object(m.a)(e,["category","removeCategory","removeAllTodoFromCategory"]);return o.a.createElement("div",{className:"category flex-container"},o.a.createElement(i.b,{to:"/categories/".concat(t)},t),o.a.createElement("button",{onClick:function(){a(t),n(t),c.history.push("/")},className:"default-btn"},o.a.createElement("img",{className:"animated-icon small-icon",src:T.a,alt:"Delete"})))},y={isOpened:!1,isCategoriesOpened:!1,categories:{items:[],categoriesCreateWindow:{isOpened:!1,categoryNameText:""}}};var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN":return Object(g.a)(Object(g.a)({},e),{},{isOpened:!e.isOpened});case"OPEN-CATEGORIES":return Object(g.a)(Object(g.a)({},e),{},{isCategoriesOpened:!e.isCategoriesOpened});case"ADD-CATEGORY":return Object(g.a)(Object(g.a)({},e),{},{categories:Object(g.a)(Object(g.a)({},e.categories),{},{items:[].concat(Object(u.a)(e.categories.items),[e.categories.categoriesCreateWindow.categoryNameText]),categoriesCreateWindow:Object(g.a)(Object(g.a)({},e.categories.categoriesCreateWindow),{},{categoryNameText:""})})});case"REMOVE-CATEGORY":return Object(g.a)(Object(g.a)({},e),{},{categories:Object(g.a)(Object(g.a)({},e.categories),{},{items:e.categories.items.filter((function(e){return e!==t.categoryName}))})});case"TOGGLE-CREATE-CATEGORY-WINDOW":return Object(g.a)(Object(g.a)({},e),{},{categories:Object(g.a)(Object(g.a)({},e.categories),{},{categoriesCreateWindow:Object(g.a)(Object(g.a)({},e.categories.categoriesCreateWindow),{},{isOpened:!e.categories.categoriesCreateWindow.isOpened})})});case"CATEGORY_WINDOW_TEXT_CHANGE":return Object(g.a)(Object(g.a)({},e),{},{categories:Object(g.a)(Object(g.a)({},e.categories),{},{categoriesCreateWindow:Object(g.a)(Object(g.a)({},e.categories.categoriesCreateWindow),{},{categoryNameText:t.text})})});default:return e}};var W=Object(d.e)(j),x=Object(s.b)((function(e){return{}}),{removeCategory:function(e){return{type:"REMOVE-CATEGORY",categoryName:e}},removeAllTodoFromCategory:function(e){return{type:"REMOVE-ALL-TODO-FROM-CATEGORY",categoryName:e}}})(W);var R=function(e){var t=e.categories,a=e.addCategory,n=e.toggleCreateCategoryWindow,c=e.categoryWindowTextChange;return o.a.createElement(o.a.Fragment,null,t.items.map((function(e,t){return o.a.createElement(x,{key:t,category:e})})),o.a.createElement("button",{onClick:function(){n()},className:"default-btn add-category-btn"},"+"),o.a.createElement(C,{todoWindow:t.categoriesCreateWindow,toggleWindow:n},o.a.createElement("div",{className:"message__header"},o.a.createElement("h2",null,"Create Todo")),o.a.createElement("div",{className:"message__body"},o.a.createElement("input",{onChange:function(e){return function(e){c(e.target.value)}(e)},value:t.categoriesCreateWindow.categoryNameText,type:"text",placeholder:"Category name"}),o.a.createElement("button",{onClick:function(){a(),n()},className:"bg-btn"},"Add"))))};var G=Object(s.b)((function(e){return{categories:e.menu.categories}}),{addCategory:function(e){return{type:"ADD-CATEGORY",name:e}},toggleCreateCategoryWindow:function(){return{type:"TOGGLE-CREATE-CATEGORY-WINDOW"}},categoryWindowTextChange:function(e){return{type:"CATEGORY_WINDOW_TEXT_CHANGE",text:e}}})(R);var A=function(e){var t=e.menu,a=e.openMenu,n=e.openCategories;return o.a.createElement("div",{className:"menu-full-wrapper"},o.a.createElement("input",{checked:t.isOpened,onChange:function(){a()},id:"menu__toggle",type:"checkbox"}),o.a.createElement("label",{className:"menu-btn flex-container",htmlFor:"menu__toggle"},o.a.createElement("span",null)),o.a.createElement("div",{className:"menu-content-wrapper"},o.a.createElement("div",{className:"menu-content flex-container"},o.a.createElement(i.b,{to:"/"},"Home"),o.a.createElement("div",{className:"categories-wrapper"},o.a.createElement("button",{onClick:function(e){n()},className:"default-btn"},"Categories ",o.a.createElement("span",{className:t.isCategoriesOpened?"opened":""},"\u2039")),o.a.createElement("div",{className:"categories flex-container ".concat(t.isCategoriesOpened?"opened":"")},o.a.createElement(G,null))),o.a.createElement(i.b,{to:"/settings"},"Settings"))))};var _=Object(s.b)((function(e){return{menu:e.menu}}),{openMenu:function(){return{type:"OPEN"}},openCategories:function(){return{type:"OPEN-CATEGORIES"}}})(A),D={theme:"dark"};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE-THEME":return Object(g.a)(Object(g.a)({},e),{},{theme:t.theme});default:return e}};a(44);var I=function(e){var t=e.settings,a=e.changeTheme;return o.a.createElement("main",{className:"container"},o.a.createElement("div",{className:"settings__change-theme-block"},o.a.createElement("label",{htmlFor:"themes"},"Select theme"),o.a.createElement("select",{onChange:function(e){return function(e){a(e.target.value)}(e)},value:t.theme,name:"themes",id:"themes"},o.a.createElement("option",{value:"dark"},"Dark"),o.a.createElement("option",{value:"light"},"Light"))))};var M=Object(s.b)((function(e){return{settings:e.settings}}),{changeTheme:function(e){return{type:"CHANGE-THEME",theme:e}}})(I);var L=function(e){var t=e.settings;return o.a.createElement("div",{className:"App","data-theme":t.theme},o.a.createElement(i.a,null,o.a.createElement(l,null),o.a.createElement(_,null),o.a.createElement(d.a,{exact:!0,path:"/"},o.a.createElement(N,null)),o.a.createElement(d.a,{path:"/categories/:category"},o.a.createElement(N,null)),o.a.createElement(d.a,{path:"/settings"},o.a.createElement(M,null))))};var S=Object(s.b)((function(e){return{settings:e.settings}}))(L),H=a(12),F=Object(H.b)({todoItems:O,menu:w,settings:k}),Y=localStorage.getItem("state")?JSON.parse(localStorage.getItem("state")):{},P=Object(H.c)(F,Y);P.subscribe((function(){localStorage.setItem("state",JSON.stringify(P.getState()))})),window.store=P,setInterval((function(){var e=P.getState().todoItems.todos,t=new Date(Date.now()).toLocaleTimeString().slice(0,5);e.forEach((function(e){if(e.reminderTime===t&&!e.isReminded&&!e.completed&&"granted"===Notification.permission){P.dispatch({type:"TOGGLE-REMINDED",todoId:e.id});new Notification("Have you forgotten about your task?",{body:"The task ".concat(e.title," is waiting for you"),icon:"logo.png"})}}))}),1e3);var V=P;r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s.a,{store:V},o.a.createElement(S,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[25,1,2]]]);
//# sourceMappingURL=main.d7cf7d78.chunk.js.map